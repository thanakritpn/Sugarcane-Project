# р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕гр╕░р╕Ър╕Ър╕гр╕Цр╣Ар╕Вр╣Зр╕Щ

## р╕ар╕▓р╕Юр╕гр╕зр╕б

р╕гр╕░р╕Ър╕Ър╕гр╕Цр╣Ар╕Вр╣Зр╕Щр╕Щр╕╡р╣Йр╕Кр╣Ир╕зр╕вр╣Гр╕лр╣Йр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Ц:
1. р╕Фр╕╣р╕кр╕┤р╕Щр╕Др╣Йр╕▓ (р╕Юр╕▒р╕Щр╕Шр╕╕р╣Мр╕нр╣Йр╕нр╕в) р╕Чр╕╡р╣Ир╕бр╕╡р╕Ир╕▓р╕Бр╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕Хр╣Ир╕▓р╕Зр╣Ж
2. р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Др╕Ыр╕вр╕▒р╕Зр╕гр╕Цр╣Ар╕Вр╣Зр╕Щ р╣Вр╕Фр╕вр╕гр╕░р╕Ър╕Ър╕Ир╕░р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е:
   - р╣Др╕нр╕Фр╕╡р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (userId)
   - р╣Др╕нр╕Фр╕╡р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓ (shopId)
   - р╣Др╕нр╕Фр╕╡р╕кр╕┤р╕Щр╕Др╣Йр╕▓ (varietyId)
   - р╕гр╕▓р╕Др╕▓
   - р╕Ир╕│р╕Щр╕зр╕Щ
   - р╕кр╕Цр╕▓р╕Щр╕░ (pending/paid/cancelled)

## р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Ир╕Ър╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕в
- р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓ Home
- р╕Др╣Йр╕Щр╕лр╕▓р╕лр╕гр╕╖р╕нр╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕кр╕┤р╕Щр╕Др╣Йр╕▓
- р╕Др╕ер╕┤р╕Б "р╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф" р╣Ар╕Юр╕╖р╣Ир╕нр╣Др╕Ыр╕вр╕▒р╕Зр╕лр╕Щр╣Йр╕▓ VarietyDetail

### 2. р╕Ър╕Щр╕лр╕Щр╣Йр╕▓ VarietyDetail
- р╕лр╕Щр╣Йр╕▓р╕Щр╕╡р╣Йр╣Бр╕кр╕Фр╕З:
  - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Юр╕▒р╕Щр╕Шр╕╕р╣Мр╕нр╣Йр╕нр╕в (р╕Кр╕╖р╣Ир╕н, р╕гр╕╣р╕Ы, р╕ер╕▒р╕Бр╕йр╕Ур╕░р╣Ар╕Йр╕Юр╕▓р╕░, р╕пр╕ер╕п)
  - **р╕кр╣Ир╕зр╕Щ "р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕Ир╕│р╕лр╕Щр╣Ир╕▓р╕в"** - р╣Бр╕кр╕Фр╕Зр╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Чр╕╡р╣Ир╕бр╕╡р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Щр╕╡р╣Й
    - р╕Кр╕╖р╣Ир╕нр╕гр╣Йр╕▓р╕Щ
    - р╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣И р╣Ар╕Ър╕нр╕гр╣Мр╣Вр╕Чр╕г
    - р╕гр╕▓р╕Др╕▓
    - р╕кр╕Цр╕▓р╕Щр╕░ (р╕бр╕╡р╕кр╕Хр╣Кр╕нр╕Д/р╕лр╕бр╕Фр╕кр╕Хр╣Кр╕нр╕Д)
    - **р╕Ыр╕╕р╣Ир╕б "р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Ыр╕вр╕▒р╕Зр╕гр╕Цр╣Ар╕Вр╣Зр╕Щ"** тЖР р╕Др╕ер╕┤р╕Бр╕Чр╕╡р╣Ир╕Щр╕╡р╣И

### 3. р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓
- **р╕лр╕▓р╕Бр╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щ**: р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Вр╕нр╣Гр╕лр╣Йр╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щр╕Бр╣Ир╕нр╕Щ
- **р╕лр╕▓р╕Бр╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щр╣Бр╕ер╣Йр╕з**: 
  - р╕Др╕ер╕┤р╕Бр╕Ыр╕╕р╣Ир╕б "р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Ыр╕вр╕▒р╕Зр╕гр╕Цр╣Ар╕Вр╣Зр╕Щ" 
  - р╕Ыр╕╕р╣Ир╕бр╕Ир╕░р╣Бр╕кр╕Фр╕З "р╕Бр╕│р╕ер╕▒р╕Зр╣Ар╕Юр╕┤р╣Ир╕б..." р╕Вр╕Ур╕░р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б
  - р╣Ар╕бр╕╖р╣Ир╕нр╕кр╕│р╣Ар╕гр╣Зр╕Ир╕Ир╕░р╣Бр╕кр╕Фр╕З notification: "р╣Ар╕Юр╕┤р╣Ир╕б [р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓] р╕Ир╕▓р╕Бр╕гр╣Йр╕▓р╕Щ [р╕Кр╕╖р╣Ир╕нр╕гр╣Йр╕▓р╕Щ] р╣Др╕Ыр╕вр╕▒р╕Зр╕гр╕Цр╣Ар╕Вр╣Зр╕Щр╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕в"

### 4. р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕Ър╕▒р╕Щр╕Чр╕╢р╕Б
р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е:
```json
{
  "userId": "user123",
  "shopId": "shop456",
  "varietyId": "variety789",
  "price": 500,
  "quantity": 1,
  "status": "pending",
  "createdAt": "2025-12-05T...",
  "updatedAt": "2025-12-05T..."
}
```

## р╕Др╕зр╕▓р╕бр╣Ар╕Ыр╣Зр╕Щр╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Кр╣Ир╕зр╕в

| р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М | р╕кр╕Цр╕▓р╕Щр╕░ |
|--------|--------|
| р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Др╕Ыр╕вр╕▒р╕Зр╕гр╕Цр╣Ар╕Вр╣Зр╕Щ | тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И |
| р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ login | тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И |
| р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕ер╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е | тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И |
| Notification Message | тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И |
| Loading State | тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И |
| р╕Фр╕╣р╕гр╕Цр╣Ар╕Вр╣Зр╕Щ (View Cart) | ЁЯЪз р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Чр╕│ |
| Checkout | ЁЯЪз р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Чр╕│ |
| Payment | ЁЯЪз р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Чр╕│ |

## р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

```
Database: MongoDB Atlas
Collection: carts
тФЬтФАтФА _id (ObjectId) - р╣Др╕нр╕Фр╕╡р╣Ар╕нр╕Бр╕кр╕▓р╕г
тФЬтФАтФА userId (ObjectId) - р╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕Зр╣Др╕Ыр╕вр╕▒р╕З users
тФЬтФАтФА shopId (ObjectId) - р╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕Зр╣Др╕Ыр╕вр╕▒р╕З shops
тФЬтФАтФА varietyId (ObjectId) - р╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕Зр╣Др╕Ыр╕вр╕▒р╕З varieties
тФЬтФАтФА price (Number) - р╕гр╕▓р╕Др╕▓
тФЬтФАтФА quantity (Number) - р╕Ир╕│р╕Щр╕зр╕Щ (р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ 1)
тФЬтФАтФА status (String) - р╕кр╕Цр╕▓р╕Щр╕░ (pending, paid, cancelled)
тФЬтФАтФА createdAt (Date) - р╕зр╕▒р╕Щр╣Ар╕зр╕ер╕▓р╕кр╕гр╣Йр╕▓р╕З
тФФтФАтФА updatedAt (Date) - р╕зр╕▒р╕Щр╣Ар╕зр╕ер╕▓р╣Бр╕Бр╣Йр╣Др╕Вр╕ер╣Ир╕▓р╕кр╕╕р╕Ф
```

## API Endpoints

### р╕ер╣Йр╣Ар╕Юр╕┤р╣Ир╕б (Create)
```
POST /api/cart
Body: {
  "userId": "string",
  "shopId": "string",
  "varietyId": "string",
  "price": number,
  "quantity": number
}
```

### р╕Фр╕╢р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е (Read)
```
GET /api/cart/:userId
```

### р╣Бр╕Бр╣Йр╣Др╕В (Update)
```
PUT /api/cart/:cartId
Body: {
  "quantity": number,
  "status": "pending|paid|cancelled"
}
```

### р╕ер╕Ъ (Delete)
```
DELETE /api/cart/:cartId
DELETE /api/cart-clear/:userId
```

## р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓ (Troubleshooting)

### р╕Ыр╕▒р╕Нр╕лр╕▓: р╕Ыр╕╕р╣Ир╕б "р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Ыр╕вр╕▒р╕Зр╕гр╕Цр╣Ар╕Вр╣Зр╕Щ" р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ
**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щр╣Бр╕ер╣Йр╕з
2. р╣Ар╕Ыр╕┤р╕Ф DevTools (F12) > Console р╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡ error р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network tab р╕зр╣Ир╕▓ API request р╕кр╣Ир╕Зр╣Др╕Ыр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ backend console р╕зр╣Ир╕▓р╕бр╕╡ error message р╕лр╕гр╕╖р╕нр╣Др╕бр╣И

### р╕Ыр╕▒р╕Нр╕лр╕▓: API response error
**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ userId, shopId, varietyId р╕зр╣Ир╕▓р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ backend server р╕Бр╕│р╕ер╕▒р╕Зр╕гр╕▒р╕Щр╕лр╕гр╕╖р╕нр╣Др╕бр╣И (http://localhost:5001)
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ MongoDB connection

### р╕Ыр╕▒р╕Нр╕лр╕▓: р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╕Ыр╕гр╕▓р╕Бр╕Пр╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ MongoDB Atlas connection string р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
2. р╕ер╣Зр╕нр╕Бр╕нр╕┤р╕Щр╣Др╕Ыр╕вр╕▒р╕З MongoDB Atlas р╣Бр╕ер╕░р╕Фр╕╣р╕зр╣Ир╕▓ collection `carts` р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ backend logs р╕кр╕│р╕лр╕гр╕▒р╕Ъ error message

## р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ы (Future Enhancements)

1. **View Cart Page** - р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕Щр╣Йр╕▓р╕Фр╕╣р╕гр╕Цр╣Ар╕Вр╣Зр╕Щ
   - р╣Бр╕кр╕Фр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
   - р╣Бр╕Бр╣Йр╣Др╕Вр╕Ир╕│р╕Щр╕зр╕Щ
   - р╕ер╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓
   - р╕Др╕│р╕Щр╕зр╕Ур╕вр╕нр╕Фр╕гр╕зр╕б

2. **Checkout** - р╕кр╕гр╣Йр╕▓р╕Зр╕Бр╕гр╕░р╕Ър╕зр╕Щр╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ
   - р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣И
   - р╣Ар╕ер╕╖р╕нр╕Бр╕зр╕┤р╕Шр╕╡р╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ
   - р╕кр╕гр╕╕р╕Ыр╕гр╕▓р╕вр╕Бр╕▓р╕г

3. **Payment Gateway Integration**
   - р╕Чр╕│р╣Гр╕лр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щр╕нр╕нр╕Щр╣Др╕ер╕Щр╣Мр╣Др╕Фр╣Й
   - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕кр╕Цр╕▓р╕Щр╕░р╣Ар╕Ыр╣Зр╕Щ "paid"

4. **Order History** - р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
   - р╕Фр╕╣р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕│р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╣Бр╕Ър╕Ър╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕г
   - р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕кр╕Цр╕▓р╕Щр╕░

## р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╣Бр╕ер╕░р╕кр╕Щр╕▒р╕Ър╕кр╕Щр╕╕р╕Щ

р╕лр╕▓р╕Бр╕Юр╕Ър╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕гр╕╖р╕нр╕бр╕╡р╕Вр╣Йр╕нр╣Ар╕кр╕Щр╕нр╣Бр╕Щр╕░ р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╣Др╕Фр╣Йр╕Чр╕╡р╣И:
- GitHub Issues
- Email: support@sugarcane.example.com
